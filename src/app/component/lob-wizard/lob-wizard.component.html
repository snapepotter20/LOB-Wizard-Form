<div class="max-w-4xl mx-auto p-6 space-y-6">
  <!-- Header -->
  <div class="flex justify-between items-center">
    <h2 class="text-2xl font-bold text-gray-800">Line of Business Wizard</h2>
    <div class="flex space-x-2">
      <div
        class="w-3 h-3 rounded-full"
        [ngClass]="step === 0 ? 'bg-blue-500' : 'bg-gray-300'"
      ></div>
      <div
        class="w-3 h-3 rounded-full"
        [ngClass]="step === 1 ? 'bg-blue-500' : 'bg-gray-300'"
      ></div>
      <div
        class="w-3 h-3 rounded-full"
        [ngClass]="step === 2 ? 'bg-blue-500' : 'bg-gray-300'"
      ></div>
    </div>
  </div>

  <div class="bg-white shadow rounded-md p-6">
    <!-- Form flow -->
    <ng-container *ngIf="!formSubmitted; else submittedBlock">
      <ng-container [ngSwitch]="step">
        <app-create-lob *ngSwitchCase="0" [formGroup]="form"></app-create-lob>
        <app-service-category
          *ngSwitchCase="1"
          [formGroup]="form"
        ></app-service-category>
        <app-service-provider
          *ngSwitchCase="2"
          [formGroup]="form"
        ></app-service-provider>
      </ng-container>

      <!-- Navigation Buttons -->
      <div class="mt-6 flex justify-between">
        <button
          class="text-gray-600 hover:text-blue-600"
          (click)="previous()"
          [disabled]="step === 0"
        >
          Previous
        </button>
        <button
          [ngClass]="
            step === 0 &&
            (!form.get('lobName')?.valid || !form.get('email')?.valid)
              ? 'bg-gray-400 text-white cursor-not-allowed'
              : 'bg-blue-600 text-white hover:bg-blue-700'
          "
          class="px-6 py-2 rounded-md transition-all duration-200"
          (click)="step === 2 ? createLOB() : next()"
          [disabled]="
            step === 0 &&
            (!form.get('lobName')?.valid || !form.get('email')?.valid)
          "
        >
          {{ step === 2 ? "Create" : "Next" }}
        </button>
      </div>
    </ng-container>

    <!-- Submission Block -->
    <ng-template #submittedBlock>
      <div class="text-center space-y-4">
        <h3 class="text-2xl font-bold text-green-700">
          ðŸŽ‰ LOB Created Successfully!
        </h3>
        <p class="text-gray-600">Your Line of Business has been saved.</p>
        <button
          class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700"
          (click)="resetForm()"
        >
          âž• Create Another
        </button>
      </div>
    </ng-template>
  </div>
</div>
